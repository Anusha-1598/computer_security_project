{"ast":null,"code":"import React from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{deleteDocument}from\"../redux/documentsSlice\";import\"./Popup.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DeleteConfirmationPopup=_ref=>{let{fileId,fileName,onClose}=_ref;const currentUser=useSelector(state=>state.login.loginUser);const dispatch=useDispatch();const handleDelete=()=>{fetch(\"http://127.0.0.1:3658/m1/593636-0-default/deleteDocument\",{method:\"POST\",credentials:\"include\",headers:{\"Content-Type\":\"application/json\",Accept:\"application/json\",\"Access-Control-Allow-Origin\":\"*\"},body:JSON.stringify({userId:currentUser,fileId:fileId})}).then(res=>{if(res.status===200){res.json().then(res=>{dispatch(deleteDocument(fileId));});}else{alert(res.message);}onClose();}).catch(err=>{alert(\"Failed to delete document due to : \\n\"+err.message);});};return/*#__PURE__*/_jsx(\"div\",{className:\"popup\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-inner\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Delete Document\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Are you sure you want to delete \",fileName,\"?\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDelete,children:\"Delete\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,children:\"Cancel\"})]})});};export default DeleteConfirmationPopup;","map":{"version":3,"names":["React","useDispatch","useSelector","deleteDocument","jsx","_jsx","jsxs","_jsxs","DeleteConfirmationPopup","_ref","fileId","fileName","onClose","currentUser","state","login","loginUser","dispatch","handleDelete","fetch","method","credentials","headers","Accept","body","JSON","stringify","userId","then","res","status","json","alert","message","catch","err","className","children","onClick"],"sources":["/workspaces/computer_security_project/frontend/src/components/DeleteConfirmationPopup.js"],"sourcesContent":["import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { deleteDocument } from \"../redux/documentsSlice\";\nimport \"./Popup.css\";\n\nconst DeleteConfirmationPopup = ({ fileId, fileName, onClose }) => {\n  const currentUser = useSelector((state) => state.login.loginUser);\n\n  const dispatch = useDispatch();\n\n  const handleDelete = () => {\n    fetch(\"http://127.0.0.1:3658/m1/593636-0-default/deleteDocument\", {\n      method: \"POST\",\n      credentials: \"include\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        \"Access-Control-Allow-Origin\": \"*\",\n      },\n      body: JSON.stringify({ userId: currentUser, fileId: fileId }),\n    })\n      .then((res) => {\n        if (res.status === 200) {\n          res.json().then((res) => {\n            dispatch(deleteDocument(fileId));\n          });\n        } else {\n          alert(res.message);\n        }\n        onClose();\n      })\n      .catch((err) => {\n        alert(\"Failed to delete document due to : \\n\" + err.message);\n      });\n  };\n\n  return (\n    <div className=\"popup\">\n      <div className=\"popup-inner\">\n        <h2>Delete Document</h2>\n        <p>Are you sure you want to delete {fileName}?</p>\n        <button onClick={handleDelete}>Delete</button>\n        <button onClick={onClose}>Cancel</button>\n      </div>\n    </div>\n  );\n};\n\nexport default DeleteConfirmationPopup;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,cAAc,KAAQ,yBAAyB,CACxD,MAAO,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErB,KAAM,CAAAC,uBAAuB,CAAGC,IAAA,EAAmC,IAAlC,CAAEC,MAAM,CAAEC,QAAQ,CAAEC,OAAQ,CAAC,CAAAH,IAAA,CAC5D,KAAM,CAAAI,WAAW,CAAGX,WAAW,CAAEY,KAAK,EAAKA,KAAK,CAACC,KAAK,CAACC,SAAS,CAAC,CAEjE,KAAM,CAAAC,QAAQ,CAAGhB,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAiB,YAAY,CAAGA,CAAA,GAAM,CACzBC,KAAK,CAAC,0DAA0D,CAAE,CAChEC,MAAM,CAAE,MAAM,CACdC,WAAW,CAAE,SAAS,CACtBC,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClCC,MAAM,CAAE,kBAAkB,CAC1B,6BAA6B,CAAE,GACjC,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEC,MAAM,CAAEd,WAAW,CAAEH,MAAM,CAAEA,MAAO,CAAC,CAC9D,CAAC,CAAC,CACCkB,IAAI,CAAEC,GAAG,EAAK,CACb,GAAIA,GAAG,CAACC,MAAM,GAAK,GAAG,CAAE,CACtBD,GAAG,CAACE,IAAI,CAAC,CAAC,CAACH,IAAI,CAAEC,GAAG,EAAK,CACvBZ,QAAQ,CAACd,cAAc,CAACO,MAAM,CAAC,CAAC,CAClC,CAAC,CAAC,CACJ,CAAC,IAAM,CACLsB,KAAK,CAACH,GAAG,CAACI,OAAO,CAAC,CACpB,CACArB,OAAO,CAAC,CAAC,CACX,CAAC,CAAC,CACDsB,KAAK,CAAEC,GAAG,EAAK,CACdH,KAAK,CAAC,uCAAuC,CAAGG,GAAG,CAACF,OAAO,CAAC,CAC9D,CAAC,CAAC,CACN,CAAC,CAED,mBACE5B,IAAA,QAAK+B,SAAS,CAAC,OAAO,CAAAC,QAAA,cACpB9B,KAAA,QAAK6B,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BhC,IAAA,OAAAgC,QAAA,CAAI,iBAAe,CAAI,CAAC,cACxB9B,KAAA,MAAA8B,QAAA,EAAG,kCAAgC,CAAC1B,QAAQ,CAAC,GAAC,EAAG,CAAC,cAClDN,IAAA,WAAQiC,OAAO,CAAEpB,YAAa,CAAAmB,QAAA,CAAC,QAAM,CAAQ,CAAC,cAC9ChC,IAAA,WAAQiC,OAAO,CAAE1B,OAAQ,CAAAyB,QAAA,CAAC,QAAM,CAAQ,CAAC,EACtC,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAA7B,uBAAuB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}